<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>
        비동기통신 (Asynchronous communication) : AJAX
    </h1>
    <ul>
        <li>
            데이터를 받는 방식(통신) : 동기통신, 비동기통신
        </li>
        <li>
            동기통신(synchronous) : 동시에 일어나는 요청을 하면 바로 응답을 받는다는 의미
        </li>
        <li>
            비동기통신 (Asynchronous) : 동시에 일어나지 않는다, 요청한 그 자리에서 결과가 주어지지 않을수도 있다.
        </li>
        <li>
            동기와 비동기의 장단점
        </li>
        <li>
            동기 방식 : 설계가 간단하고 직관적, 결과가 주어지기 전까지는 아무것도 못하고 대기해야함
        </li>
        <li>
            비동기 방식 : 설계가 복잡, 결과가 주어지는데 시간이 걸리더라도, 그 시간동안 다른 작업을 할 수 있어 효율적임
        </li>
        <li>
            비동기 방식 : AJAX jQuery
        </li>
    </ul>

    <h1>
        async await : Promise 개체를 이용, 데이터 통신을 편리하게 할 수 있도록 제공되는 키워드
    </h1>
    <ul>
        <li>
            asyn 키워드 : 함수선언 키워드(function) 앞에 사용하면 그 함수의 기턴을 프로미스 객체 타입으로 만들어 준다.
        </li>
        <li>
            await 키워드 : 순차적 코드실행시 데이터 통신과 같은 지연로딩 및 지연실행 같은 상황이 발생하면 코드 실행 순서를 순차적으로
            진행할 수 있도록 보증한다.
            즉, 이전 라인의 코드실행이 완료될 때까지 다음 라인은 기다리도록 하는 기능
        </li>
        <li>
            https://jsonplaceholder.typicode.com/
        </li>
    </ul>
    <h3>
        https://jsonplaceholder.typicode.com/ 을 활용한 async await 연습
    </h3>
    <button class="btn" id="btn" type="button">데이터 불러오기</button>

    <script>
        document.getElementById('btn').addEventListener('click', () => {
            async function awaitEx() {
                try {
                    const resp = await fetch('https://jsonplaceholder.typicode.com/todos/1');
                    const result = await resp.text();
                    console.log(result);
                } catch (err) {
                    console.log(err);
                } finally {
                    console.log('await finish')
                }
            }

            awaitEx();
        });

        document.querySelector('.btn').addEventListener('click', () => {
        });
    </script>
</body>


</html>